SET SERVEROUT ON
CL SCR

CREATE OR REPLACE PROCEDURE  SHOW_EMP
( V_EMPID      IN  EMPLOYEES.EMPLOYEE_ID%TYPE ,
   V_LAST_NAME OUT EMPLOYEES.LAST_NAME%TYPE,
   V_SAL       OUT EMPLOYEES.SALARY%TYPE)
IS
BEGIN
   SELECT LAST_NAME, SALARY
   INTO   V_LAST_NAME, V_SAL
   FROM   EMPLOYEES
   WHERE  EMPLOYEE_ID=V_EMPID;

   --DBMS_OUTPUT.PUT_LINE(V_LAST_NAME ||'-'|| V_SAL);
EXCEPTION
    WHEN NO_DATA_FOUND THEN
        DBMS_OUTPUT.PUT_LINE('FUNCIONÁRIO NÃO EXISTE!!!');
END SHOW_EMP;
/
DECLARE
   ID NUMBER := 100;
   V_DEPT_ID NUMBER;
   V_NAME EMPLOYEES.LAST_NAME%TYPE;
   V_SALARIO EMPLOYEES.SALARY%TYPE;
BEGIN
  SHOW_EMP(ID,V_NAME,V_SALARIO);
  
  DBMS_OUTPUT.PUT_LINE(V_NAME || '-'||V_SALARIO);
  SELECT DEPARTMENT_ID
  INTO   V_DEPT_ID
  FROM   EMPLOYEES
  WHERE  LAST_NAME = V_NAME
  AND    SALARY= V_SALARIO;
  
  DBMS_OUTPUT.PUT_LINE('DEPT_ID: '||V_DEPT_ID);
  
END;
/

DESC SHOW_EMP;